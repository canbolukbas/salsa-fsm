<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SalsaFSM</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
      background-color: #f0f0f0;
    }
    svg {
      width: 100%;
      max-width: 600px;
      height: auto;
      margin-top: 40px;
    }
    .link {
      cursor: pointer;
      fill: none;
      stroke: #555;
      stroke-width: 2;
      marker-end: url(#arrowhead);
    }
    .state {
      fill: white;
      stroke: black;
      stroke-width: 2;
      cursor: default;
    }
    .label {
      font-weight: bold;
    }
    .page {
      padding: 20px;
    }
    .back-button {
      margin-top: 20px;
      font-size: 16px;
      padding: 10px 15px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="fsm-view">
    <svg viewBox="0 0 400 400">
      <!-- arrowhead definition -->
      <defs>
        <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="0" refY="3" orient="auto">
          <polygon points="0 0, 8 3, 0 6" fill="#555" />
        </marker>
      </defs>

      <!-- states -->
      <circle class="state" cx="200" cy="60"  r="40" />
      <text   class="label"  x="200" y="65" text-anchor="middle">Basic</text>

      <circle class="state" cx="80"  cy="280" r="40" />
      <text   class="label"  x="80"  y="285" text-anchor="middle">Cross</text>

      <circle class="state" cx="320" cy="280" r="40" />
      <text   class="label"  x="320" y="285" text-anchor="middle">Reverse Cross</text>

      <!-- transitions BETWEEN states -->
      <path class="link"
            d="M190,100 C140,160 100,200 80,240"
            onclick="showTransition('Basic to Cross')" />

      <path class="link"
            d="M210,100 C260,160 300,200 320,240"
            onclick="showTransition('Basic to Reverse')" />

      <!-- double-headed between Cross↔Reverse -->
      <path class="link"
            d="M120,280 L280,280"
            onclick="showTransition('Cross to Reverse')" />

      <path class="link"
            d="M280,280 L120,280"
            onclick="showTransition('Reverse to Cross')" />

      <!-- self-loops -->
      <path class="link"
            d="M200,20 C180,0 220,0 200,20"
            onclick="showTransition('Basic Loop')" />

      <path class="link"
            d="M80,320 C60,360 100,360 80,320"
            onclick="showTransition('Cross Loop')" />

      <path class="link"
            d="M320,320 C300,360 340,360 320,320"
            onclick="showTransition('Reverse Loop')" />
    </svg>
  </div>

  <div id="transition-view" class="page" style="display: none;">
    <h2 id="move-name">Move Title</h2>
    <p><strong>Alias:</strong> <span id="move-alias"></span></p>
    <p><strong>Description:</strong> <span id="move-description"></span></p>
    <p><strong>YouTube:</strong> <a id="move-link" href="#" target="_blank">Watch</a></p>
    <button class="back-button" onclick="backToFSM()">⬅ Back</button>
  </div>

  <script>
    const transitions = {
      "Basic to Cross": {
        alias: "Cross In",
        description: "Lead invites cross-body lead with gentle push on 5.",
        link: "https://www.youtube.com/watch?v=XXXXX"
      },
      "Basic to Reverse": {
        alias: "Reverse Start",
        description: "Lead sets up a reverse cross-body from basic step.",
        link: "https://www.youtube.com/watch?v=YYYYY"
      },
      "Cross to Reverse": {
        alias: "Combo Switch",
        description: "Transition from regular cross into reverse version.",
        link: "https://www.youtube.com/watch?v=ZZZZZ"
      },
      "Reverse to Cross": {
        alias: "Return Cross",
        description: "From reverse, lead returns to standard cross-body.",
        link: "https://www.youtube.com/watch?v=WWWWW"
      },
      "Basic Loop": {
        alias: "Basic Repeat",
        description: "Repeat basic step, reset timing or connection.",
        link: "https://www.youtube.com/watch?v=VVVVV"
      },
      "Cross Loop": {
        alias: "Cross Styling",
        description: "Looping in cross to apply styling.",
        link: "https://www.youtube.com/watch?v=UUUUU"
      },
      "Reverse Loop": {
        alias: "Reverse Practice",
        description: "Repeat reverse to reinforce muscle memory.",
        link: "https://www.youtube.com/watch?v=TTTTT"
      }
    };

    function showTransition(name) {
      document.getElementById("fsm-view").style.display = "none";
      document.getElementById("transition-view").style.display = "block";

      const move = transitions[name];
      document.getElementById("move-name").textContent        = name;
      document.getElementById("move-alias").textContent       = move.alias;
      document.getElementById("move-description").textContent = move.description;
      document.getElementById("move-link").href               = move.link;
    }

    function backToFSM() {
      document.getElementById("fsm-view").style.display       = "block";
      document.getElementById("transition-view").style.display= "none";
    }
  </script>
</body>
</html>
